<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sudoku Solver</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Permanent+Marker" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <script type='text/javascript' src='js/board_store.js'></script>
    <script type='text/javascript' src='js/tile.js'></script>
    <script type='text/javascript' src='js/board.js'></script>
    <script type='text/javascript' src='js/view.js'></script>

    <h1 class='title'>Sudoku Solver</h1>
    <div class='view'>
      <canvas id="canvas" width="550" height="550" style="border:1px solid #000000;">
      </canvas>

      <div class='controls'>
        <button id='solve' onclick='solve()'>Solve</button>
        <button onclick='resetBoard()'>New Board</button>

        <fieldset class='slider-box'>
          <legend>Speed</legend>
          fast <input id='slider' type='range' min='0' max='200'> slow
        </div>
      </div>
    </div>

    <script>
      var canvas = document.getElementById('canvas');
      var context = canvas.getContext('2d');
      var boardSize = 550;
      var boards = BoardStore; //see board_store.js

      var view = new View(context, boardSize, boards[0].dupBoard());
      view.drawBoard();

      function solve() {
        view.board.solveSudoku();

        if (view.paused) {
          view.paused = !view.paused;
          view.animate();
          document.getElementById('solve').textContent = 'Pause';
        } else {
          view.paused = !view.paused;
          document.getElementById('solve').textContent = 'Solve';
        }
      }

      function resetBoard() {
        view.paused = true;
        document.getElementById('solve').textContent = 'Solve';

        var randIdx = Math.floor(Math.random() * (boards.length));
        view = new View(context, boardSize, boards[randIdx].dupBoard());
        view.drawBoard();
      }
    </script>

  </body>
</html>
